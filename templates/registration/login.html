{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Login{% endblock %}</title>

    {% block extra_head %}
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    {% endblock %}

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/registration/login.css' %}?v=2">

    <!-- Messages -->
{% if messages %}
  <div class="floating-messages">
    {% for message in messages %}
      <div class="editprofile-message {% if message.tags == 'success' %}success{% elif message.tags == 'error' %}error{% elif message.tags == 'warning' %}warning{% else %}info{% endif %}">
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}

</head>
<body>

<div class="login-page">
 
    <button class="back-btn" onclick="window.location.href='/'">
        <i class="fas fa-arrow-left back-icon"></i> Back
    </button>

    <div class="login-container">
        <h1 class="login-title">LOGIN</h1>

        <form method="post" class="login-form">
            {% csrf_token %}

            <label>Username</label>
            <div class="input-with-icon">
                <i class="fas fa-envelope input-icon"></i>
                <input type="username" name="username" placeholder="yourname@gmail.com" required>
            </div>

            <label>Password</label>
            <div class="input-with-icon">
                <i class="fas fa-lock input-icon"></i>
                <input type="password" name="password" placeholder="Enter your password" required>
            </div>

            {% if form.non_field_errors %}
                <div class="error">{{ form.non_field_errors.0 }}</div>
            {% endif %}

            <p class="forgot-password">
                <a href="{% url 'forgot_password' %}">Forgot password?</a>
            </p>

            <!-- Sign in button -->
            <button type="submit" class="sign-in-btn">Sign In</button>

            <!-- Divider -->
            <div class="divider">DON'T HAVE ANY ACCOUNT?</div>

            <!-- Create account button -->
            <button type="button" class="create-account-btn" onclick="window.location.href='{% url 'signup' %}'">
                Create New Account
            </button>
        </form>
    </div>
</div>


<script>
document.addEventListener('DOMContentLoaded', () => {
    const messages = document.querySelectorAll('.editprofile-message');
    messages.forEach(msg => {
        setTimeout(() => {
            msg.style.opacity = '0';
            msg.style.transform = 'translateX(50px)';
            setTimeout(() => msg.remove(), 500);
        }, 5000); // 5 seconds
    });
});
</script>

</body>
</html>
