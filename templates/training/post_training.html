{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>Add Training</title>
    <link rel="stylesheet" href="{% static 'css/global-font.css' %}?v=1">
    <link rel="stylesheet" href="{% static 'css/trainings/post_training.css' %}?v=3">
</head>

<body>
    <a href="{% url 'official_dashboard' %}" class="back-button">â†© Back</a>

    <div class="main-wrapper">

        <!-- Header -->
        <h2>Add Training</h2>

        <!-- Messages -->
        {% if messages %}
        <div class="floating-messages">
            {% for message in messages %}
            <div class="editprofile-message {% if message.tags == 'success' %}success{% elif message.tags == 'error' %}error{% elif message.tags == 'warning' %}warning{% else %}info{% endif %}">
                {{ message }}
            </div>
            {% endfor %}
        </div>
        {% endif %}

        <!-- Form -->
        <form method="POST" class="training-form">
            {% csrf_token %}

            <label for="training_name">Training Name:</label>
            <input type="text" id="training_name" name="training_name" value="{{ form.training_name.value|default:'' }}" required>

            <label for="description">Description:</label>
            <textarea id="description" name="description" required>{{ form.description.value|default:'' }}</textarea>

            <label for="date_scheduled">Date Scheduled:</label>
            <input type="datetime-local" id="date_scheduled" name="date_scheduled" value="{{ form.date_scheduled.value|default:'' }}" required>

            <label for="slots">Slots:</label>
            <input type="number" id="slots" name="slots" value="{{ form.slots.value|default:'20' }}">
            
        <button type="submit" class="submit-btn">Save Training</button>
        </form>
        
    </div>

    <!-- Message auto-dismiss script -->
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const messages = document.querySelectorAll('.editprofile-message');
        messages.forEach(msg => {
            setTimeout(() => {
                msg.style.opacity = '0';
                msg.style.transform = 'translateX(50px)';
                setTimeout(() => msg.remove(), 500);
            }, 5000); // 5 seconds
        });
    });
    </script>
</body>
</html>
